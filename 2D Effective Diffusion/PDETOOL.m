% This script is written and read by pdetool and should NOT be edited.
% There are two recommended alternatives:
 % 1) Export the required variables from pdetool and create a MATLAB script
 %    to perform operations on these.
 % 2) Define the problem completely using a MATLAB script. See
 %    http://www.mathworks.com/help/pde/examples/index.html for examples
 %    of this approach.
function pdemodel
[pde_fig,ax]=pdeinit;
pdetool('appl_cb',1);
pdetool('snapon','on');
set(ax,'DataAspectRatio',[1 1.5 1]);
set(ax,'PlotBoxAspectRatio',[6 4 1]);
set(ax,'XLim',[-3 3]);
set(ax,'YLim',[-3 3]);
set(ax,'XTick',[ -3,...
 -2.5,...
 -2,...
 -1.5,...
 -1,...
 -0.5,...
 0,...
 0.5,...
 1,...
 1.5,...
 2,...
 2.5,...
 3,...
]);
set(ax,'YTick',[ -3,...
 -2.5,...
 -2,...
 -1.5,...
 -1,...
 -0.5,...
 0,...
 0.5,...
 1,...
 1.5,...
 2,...
 2.5,...
 3,...
]);
pdetool('gridon','on');

% Geometry description:
pderect([-2.5 -2 2.5 2],'SQ1');
pderect([-1.5 -1 2.5 2],'SQ2');
pderect([-0.5 0 2.5 2],'SQ3');
pderect([0.5 1 2.5 2],'SQ4');
pderect([1.5 2 2.5 2],'SQ5');
pderect([-2 -1.5 1.5 1],'SQ6');
pderect([-1 -0.5 1.5 1],'SQ7');
pderect([0 0.5 1.5 1],'SQ8');
pderect([1 1.5 1.5 1],'SQ9');
pderect([2 2.5 1.5 1],'SQ10');
pderect([-2.5 -2 0.5 0],'SQ11');
pderect([-1.5 -1 0.5 0],'SQ12');
pderect([-0.5 0 0.5 0],'SQ13');
pderect([0.5 1 0.5 0],'SQ14');
pderect([1.5 2 0.5 0],'SQ15');
pderect([-2 -1.5 -0.5 -1],'SQ16');
pderect([-1 -0.5 -0.5 -1],'SQ17');
pderect([0 0.5 -0.5 -1],'SQ18');
pderect([1 1.5 -0.5 -1],'SQ19');
pderect([2 2.5 -0.5 -1],'SQ20');
pderect([-2.5 -2 -1.5 -2],'SQ21');
pderect([-1.5 -1 -1.5 -2],'SQ22');
pderect([-0.5 0 -1.5 -2],'SQ23');
pderect([0.5 1 -1.5 -2],'SQ24');
pderect([1.5 2 -1.5 -2],'SQ25');
pderect([-3 -2.5 3.5 3],'SQ26');
pderect([-3 3 3 -2.5],'R1');
set(findobj(get(pde_fig,'Children'),'Tag','PDEEval'),'String','SQ1+SQ2+SQ3+SQ4+SQ5+SQ6+SQ7+SQ8+SQ9+SQ10+SQ11+SQ12+SQ13+SQ14+SQ15+SQ16+SQ17+SQ18+SQ19+SQ20+SQ21+SQ22+SQ23+SQ24+SQ25+R1')

% PDE coefficients:
pdeseteq(1,...
'1.0',...
'0.0',...
'10.0',...
'1.0',...
'0:10',...
'0.0',...
'0.0',...
'[0 100]')
setappdata(pde_fig,'currparam',...
['1.0 ';...
'0.0 ';...
'10.0';...
'1.0 '])

% Solve parameters:
setappdata(pde_fig,'solveparam',...
char('0','1000','10','pdeadworst',...
'0.5','longest','0','1E-4','','fixed','Inf'))

% Plotflags and user data strings:
setappdata(pde_fig,'plotflags',[1 1 1 1 1 1 1 1 0 0 0 1 1 0 0 0 0 1]);
setappdata(pde_fig,'colstring','');
setappdata(pde_fig,'arrowstring','');
setappdata(pde_fig,'deformstring','');
setappdata(pde_fig,'heightstring','');
